<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sacs à Dos Personnalisés - Catalogue</title>

    <!-- Polices modernes -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Montserrat:wght@600;700&display=swap" rel="stylesheet">

    <style>
        /* Variables thématiques (clair / sombre) */
        :root{
            --bg: #f6f9fc;
            --panel-bg: #ffffff;
            --muted: #6b7280;
            --text: #0f172a;
            --primary: #0b6cf0;   /* bleu professionnel */
            --accent: #ff6b6b;    /* accents */
            --glass: rgba(255,255,255,0.6);
            --shadow-1: 0 6px 20px rgba(16,24,40,0.08);
            --card-radius: 14px;
            --focus: 3px solid rgba(11,108,240,0.14);
            --glass-border: rgba(15,23,42,0.06);
            --overlay: rgba(6,10,20,0.45);
        }
        [data-theme="dark"]{
            --bg: linear-gradient(180deg,#091026 0%, #071226 60%);
            --panel-bg: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
            --muted: #9aa4b2;
            --text: #e6eef8;
            --primary: #4aa3ff;
            --accent: #ff7b7b;
            --glass: rgba(255,255,255,0.03);
            --shadow-1: 0 10px 30px rgba(2,6,23,0.6);
            --glass-border: rgba(255,255,255,0.04);
            --overlay: rgba(2,6,23,0.6);
        }

        /* Reset / global */
        *{box-sizing:border-box}
        html,body{height:100%}
        body{
            margin:0;
            font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            background: var(--bg);
            color: var(--text);
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
            min-height:100vh;
            padding-top:72px; /* espace menu fixe */
            transition: background 0.35s ease, color 0.35s ease;
        }

        /* Top nav */
        .top-nav{
            position:fixed;
            top:0;left:0;right:0;
            height:72px;
            background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
            backdrop-filter: blur(6px);
            border-bottom: 1px solid var(--glass-border);
            display:flex;
            align-items:center;
            justify-content:center;
            z-index:1200;
            box-shadow: var(--shadow-1);
        }
        .nav-container{
            width:100%;
            max-width:1300px;
            padding:12px 20px;
            display:flex;
            gap:16px;
            align-items:center;
            justify-content:space-between;
        }
        .brand{
            display:flex;
            gap:12px;
            align-items:center;
        }
        .logo{
            font-family: 'Montserrat', sans-serif;
            font-weight:700;
            color:var(--primary);
            font-size:20px;
            display:flex;
            gap:8px;
            align-items:center;
        }
        .logo .emoji{font-size:20px}
        .controls{
            display:flex;
            gap:10px;
            align-items:center;
            flex:1;
            margin-left:18px;
        }
        .btn-categories{
            display:inline-flex;
            align-items:center;
            gap:8px;
            padding:8px 14px;
            border-radius:999px;
            background: linear-gradient(90deg, var(--primary), color-mix(in srgb, var(--primary) 70%, white));
            color:white;
            border:none;
            font-weight:600;
            cursor:pointer;
            box-shadow: 0 8px 20px rgba(11,108,240,0.18);
            transition:transform .18s ease, box-shadow .18s ease;
        }
        .btn-categories:active{transform:translateY(1px)}
        .search-wrap{
            flex:1;
            display:flex;
            align-items:center;
            gap:10px;
            background:var(--panel-bg);
            border-radius:999px;
            padding:6px;
            border:1px solid var(--glass-border);
            box-shadow: var(--shadow-1);
        }
        #search-categories{
            border:0;
            outline:0;
            background:transparent;
            padding:10px 12px;
            width:100%;
            font-size:15px;
            color:var(--text);
        }
        .theme-toggle{
            background:transparent;
            border:1px solid var(--glass-border);
            padding:8px 10px;
            border-radius:10px;
            cursor:pointer;
            color:var(--text);
            display:inline-flex;
            align-items:center;
            gap:8px;
        }

        /* Side drawer & overlay */
        .drawer-overlay{
            position:fixed;
            inset:0;
            background: transparent;
            visibility:hidden;
            opacity:0;
            transition:opacity .25s ease, visibility .25s;
            z-index:1100;
        }
        .drawer-overlay.active{
            background: var(--overlay);
            visibility:visible;
            opacity:1;
        }
        .side-drawer{
            position:fixed;
            left:0;
            top:0;
            height:100vh;
            width:360px;
            max-width:92vw;
            transform:translateX(-110%);
            transition:transform .32s cubic-bezier(.2,.9,.2,1);
            z-index:1150;
            padding:22px;
            background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
            border-right:1px solid var(--glass-border);
            backdrop-filter: blur(8px);
            overflow:auto;
        }
        .side-drawer.active{ transform:translateX(0) }
        .drawer-close{
            position:absolute;
            right:14px;
            top:14px;
            background:none;
            border:0;
            color:var(--muted);
            font-size:28px;
            cursor:pointer;
        }
        .side-drawer h2{
            margin:48px 0 18px 0;
            font-family:'Montserrat',sans-serif;
            font-weight:700;
            color:var(--primary);
            font-size:20px;
        }
        #categories-list{
            list-style:none;
            padding:0;
            margin:0;
            display:grid;
            grid-template-columns: 1fr 1fr;
            gap:14px;
        }
        #categories-list li{
            background:var(--panel-bg);
            border-radius:12px;
            overflow:hidden;
            border:1px solid var(--glass-border);
            display:flex;
            flex-direction:column;
            transition:transform .18s ease, box-shadow .18s ease;
        }
        #categories-list li:hover{ transform:translateY(-6px); box-shadow:var(--shadow-1) }
        #categories-list a{
            display:block;
            color:inherit;
            text-decoration:none;
        }
        #categories-list img{
            width:100%;
            height:110px;
            object-fit:cover;
            display:block;
        }
        .cat-name{ padding:10px; font-weight:600; font-size:14px; text-align:center; color:var(--text) }
        .chip{
            display:inline-block;
            margin:8px;
            padding:6px 10px;
            border-radius:999px;
            background:rgba(11,108,240,0.08);
            color:var(--primary);
            font-weight:600;
            font-size:12px;
        }

        /* Page header / promo */
        header{
            margin: 0 auto;
            max-width:1300px;
            padding:28px 20px;
            text-align:left;
            font-family:'Montserrat',sans-serif;
            font-weight:700;
            color:var(--text);
            position:relative;
        }
        .header-title{ font-size:28px; margin:6px 0 }
        .sub{
            font-weight:500;
            color:var(--muted);
            margin-top:4px;
        }
        .promo-banner{
            margin:18px auto;
            max-width:1300px;
            background: linear-gradient(90deg, rgba(11,108,240,0.12), rgba(255,107,107,0.06));
            padding:12px 18px;
            border-radius:12px;
            display:flex;
            justify-content:space-between;
            align-items:center;
            gap:12px;
            border:1px solid var(--glass-border);
            box-shadow: 0 6px 20px rgba(11,108,240,0.06);
        }
        .promo-left{ font-weight:600 }
        .promo-right{ font-size:13px; color:var(--muted) }

        /* Categories grid (cards) */
        .categories{
            max-width:1300px;
            margin:28px auto;
            padding:20px;
            display:grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap:22px;
        }
        .card{
            background:var(--panel-bg);
            border-radius: var(--card-radius);
            overflow:hidden;
            box-shadow: var(--shadow-1);
            transition: transform .22s ease, box-shadow .22s ease;
            border:1px solid var(--glass-border);
            position:relative;
            cursor:pointer;
            perspective:1000px;
        }
        .card:focus-within, .card:focus{ outline: none; box-shadow: 0 10px 30px rgba(11,108,240,0.14); }
        .card-media{
            height:320px;
            overflow:hidden;
            background:linear-gradient(180deg, rgba(0,0,0,0.02), rgba(0,0,0,0.03));
            display:flex;
            align-items:center;
            justify-content:center;
            transform-origin:center;
            transition: transform .18s ease;
        }
        .card-media img{
            width:100%;
            height:100%;
            object-fit:cover;
            display:block;
            transition: transform .35s ease;
            will-change:transform;
        }
        .card:hover .card-media img{ transform: scale(1.05) }
        .badge{
            position:absolute;
            top:14px;
            right:14px;
            background:var(--accent);
            color:white;
            padding:6px 10px;
            font-weight:700;
            font-size:12px;
            border-radius:999px;
            box-shadow:0 6px 18px rgba(0,0,0,0.12);
        }
        .card-title{
            padding:14px 16px;
            font-weight:700;
            font-size:16px;
            display:flex;
            justify-content:space-between;
            align-items:center;
            gap:10px;
        }
        .card-meta{ font-size:13px; color:var(--muted); font-weight:600 }

        /* Floating contact */
        .btn-contact{
            position:fixed;
            right:20px;
            bottom:20px;
            width:56px;
            height:56px;
            border-radius:50%;
            background:linear-gradient(180deg,var(--accent), color-mix(in srgb, var(--accent) 70%, black 10%));
            box-shadow:0 12px 30px rgba(255,107,107,0.18);
            display:flex;
            align-items:center;
            justify-content:center;
            color:white;
            text-decoration:none;
            z-index:1300;
            font-size:24px;
        }

        /* Modal for preview */
        .modal{
            position:fixed;
            inset:0;
            display:flex;
            align-items:center;
            justify-content:center;
            background:rgba(2,6,23,0.6);
            visibility:hidden;
            opacity:0;
            z-index:1400;
            transition:opacity .18s ease, visibility .18s;
            padding:24px;
        }
        .modal.active{ visibility:visible; opacity:1 }
        .modal-card{
            max-width:1100px;
            width:100%;
            border-radius:12px;
            overflow:hidden;
            background:var(--panel-bg);
            box-shadow: 0 30px 80px rgba(2,6,23,0.6);
            transform-origin:center;
            animation:modalIn .22s ease;
        }
        @keyframes modalIn {
            from { transform: translateY(10px) scale(.99); opacity:0 }
            to   { transform: translateY(0) scale(1); opacity:1 }
        }
        .modal-media img{ width:100%; height:60vh; object-fit:contain; display:block }

        /* small screens */
        @media (max-width:900px){
            .card-media{ height:260px }
        }
        @media (max-width:600px){
            .nav-container{ padding:10px }
            .brand .logo{ font-size:18px }
            .card-media{ height:220px }
            header .header-title{ font-size:20px }
            .promo-banner{ flex-direction:column; align-items:flex-start; gap:8px }
        }

        /* focus states */
        a:focus, button:focus, input:focus{
            outline: none;
            box-shadow: var(--focus);
            border-radius:8px;
        }
    </style>
</head>
<body>

<nav class="top-nav" role="navigation" aria-label="Menu principal">
    <div class="nav-container">
        <div class="brand" aria-hidden="false">
            <div class="logo" aria-hidden="true"><span class="emoji">🎒</span> <span>Sacs Perso</span></div>
        </div>

        <div class="controls" role="region" aria-label="Barre de recherche et actions">
            <button class="btn-categories" id="open-drawer" aria-haspopup="true" aria-controls="side-drawer" aria-expanded="false" title="Ouvrir les catégories">Catégories ▾</button>

            <div class="search-wrap" role="search" aria-label="Recherche catégories">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
                <input id="search-categories" type="search" placeholder="Rechercher (ex: Naruto, Populaire)..." aria-label="Rechercher dans les catégories" autocomplete="off">
            </div>

            <button class="theme-toggle" id="theme-toggle" aria-pressed="false" title="Basculer thème">
                <span id="theme-icon">🌙</span> <span class="sr-only">Basculer thème</span>
            </button>
        </div>
    </div>
</nav>

<!-- Drawer overlay -->
<div class="drawer-overlay" id="drawer-overlay" tabindex="-1" aria-hidden="true"></div>

<!-- Side drawer -->
<aside class="side-drawer" id="side-drawer" aria-hidden="true" aria-label="Panneau catégories">
    <button class="drawer-close" id="drawer-close" aria-label="Fermer le panneau">×</button>
    <h2>Catégories</h2>

    <div id="drawer-chips" style="padding-bottom:10px;">
        <span class="chip" data-filter="">Tous</span>
        <span class="chip" data-filter="Nouveau">Nouveau</span>
        <span class="chip" data-filter="Populaire">Populaire</span>
        <span class="chip" data-filter="Tendance">Tendance</span>
    </div>

    <ul id="categories-list" role="list">
        <li data-name="Naruto" data-tag="Nouveau">
            <a href="naruto.html">
                <img src="images/naruto1.jpg" alt="Naruto" loading="lazy" />
                <span class="cat-name">Naruto</span>
            </a>
        </li>
        <li data-name="Dragon Ball Z" data-tag="Populaire">
            <a href="dbz.html">
                <img src="images/dbz.jpg" alt="Dragon Ball Z" loading="lazy" />
                <span class="cat-name">Dragon Ball Z</span>
            </a>
        </li>
        <li data-name="One Piece">
            <a href="onepiece.html">
                <img src="images/one.jpg" alt="One Piece" loading="lazy" />
                <span class="cat-name">One Piece</span>
            </a>
        </li>
        <li data-name="Attack on Titan">
            <a href="aot.html">
                <img src="images/attack.jpg" alt="Attack on Titan" loading="lazy" />
                <span class="cat-name">Attack on Titan</span>
            </a>
        </li>
        <li data-name="Demon Slayer">
            <a href="demonslayer.html">
                <img src="images/demon.jpeg" alt="Demon Slayer" loading="lazy" />
                <span class="cat-name">Demon Slayer</span>
            </a>
        </li>
        <li data-name="Jujutsu Kaisen" data-tag="Tendance">
            <a href="jujutsu.html">
                <img src="images/jjk.jpg" alt="Jujutsu Kaisen" loading="lazy" />
                <span class="cat-name">Jujutsu Kaisen</span>
            </a>
        </li>
        <li data-name="Autre">
            <a href="autre.html">
                <img src="images/porche.jpg" alt="Autres modèles" loading="lazy" />
                <span class="cat-name">🧢 Autre</span>
            </a>
        </li>
        <li data-name="Fille">
            <a href="fille.html">
                <img src="images/girl.jpg" alt="Sacs pour filles" loading="lazy" />
                <span class="cat-name">👧 Fille</span>
            </a>
        </li>
        <li data-name="Garçon">
            <a href="garcon.html">
                <img src="images/boy.jpg" alt="Sacs de marque" loading="lazy" />
                <span class="cat-name">Garçon</span>
            </a>
        </li>
    </ul>
</aside>

<header role="banner">
    <div style="max-width:1300px;margin:0 auto;padding:0 20px;">
        <div class="header-title">🎒 Boutique de Sacs à Dos Personnalisés</div>
        <div class="sub">Catalogue animé — recherche, filtres, aperçu rapide et mode sombre pour un rendu professionnel.</div>
    </div>
</header>

<div class="promo-banner" role="region" aria-label="Promotion">
    <div class="promo-left">🌟 Promo rentrée : -20% sur tous les sacs jusqu'au 15 septembre</div>
    <div class="promo-right">Livraison rapide • Personnalisation possible • Paiement sécurisé</div>
</div>

<!-- Grid de cartes (catalogue) -->
<main class="categories" id="catalog" role="main" aria-live="polite">
    <a href="naruto.html" class="card" data-name="Naruto" data-tag="Nouveau" tabindex="0" role="article" aria-label="Naruto - nouveau">
        <div class="card-media" data-src="images/naruto1.jpg">
            <img src="images/naruto1.jpg" alt="Naruto" loading="lazy">
        </div>
        <div class="badge">Nouveau</div>
        <div class="card-title">
            <span>Naruto</span>
            <span class="card-meta">Anime</span>
        </div>
    </a>

    <a href="onepiece.html" class="card" data-name="One Piece" tabindex="0" role="article" aria-label="One Piece">
        <div class="card-media" data-src="images/one.jpg">
            <img src="images/one.jpg" alt="One Piece" loading="lazy">
        </div>
        <div class="card-title">
            <span>One Piece</span>
            <span class="card-meta">Aventure</span>
        </div>
    </a>

    <a href="dbz.html" class="card" data-name="Dragon Ball Z" data-tag="Populaire" tabindex="0" role="article" aria-label="Dragon Ball Z - populaire">
        <div class="card-media" data-src="images/dbz.jpg">
            <img src="images/dbz.jpg" alt="Dragon Ball Z" loading="lazy">
        </div>
        <div class="badge">Populaire</div>
        <div class="card-title">
            <span>Dragon Ball Z</span>
            <span class="card-meta">Classique</span>
        </div>
    </a>

    <a href="aot.html" class="card" data-name="Attack on Titan" tabindex="0" role="article" aria-label="Attack on Titan">
        <div class="card-media" data-src="images/attack.jpg">
            <img src="images/attack.jpg" alt="Attack on Titan" loading="lazy">
        </div>
        <div class="card-title">
            <span>Attack on Titan</span>
            <span class="card-meta">Dark</span>
        </div>
    </a>

    <a href="demonslayer.html" class="card" data-name="Demon Slayer" tabindex="0" role="article" aria-label="Demon Slayer">
        <div class="card-media" data-src="images/demon.jpeg">
            <img src="images/demon.jpeg" alt="Demon Slayer" loading="lazy">
        </div>
        <div class="card-title">
            <span>Demon Slayer</span>
            <span class="card-meta">Fantaisie</span>
        </div>
    </a>

    <a href="jujutsu.html" class="card" data-name="Jujutsu Kaisen" data-tag="Tendance" tabindex="0" role="article" aria-label="Jujutsu Kaisen - tendance">
        <div class="card-media" data-src="images/jjk.jpg">
            <img src="images/jjk.jpg" alt="Jujutsu Kaisen" loading="lazy">
        </div>
        <div class="badge">Tendance</div>
        <div class="card-title">
            <span>Jujutsu Kaisen</span>
            <span class="card-meta">Nouveauté</span>
        </div>
    </a>

    <a href="autre.html" class="card" data-name="Autre" tabindex="0" role="article" aria-label="Autre">
        <div class="card-media" data-src="images/porche.jpg">
            <img src="images/porche.jpg" alt="Autres modèles" loading="lazy">
        </div>
        <div class="card-title">
            <span>🧢 Autre</span>
            <span class="card-meta">Divers</span>
        </div>
    </a>

    <a href="fille.html" class="card" data-name="Fille" tabindex="0" role="article" aria-label="Sacs pour filles">
        <div class="card-media" data-src="images/girl.jpg">
            <img src="images/girl.jpg" alt="Sacs pour filles" loading="lazy">
        </div>
        <div class="card-title">
            <span>👧 Fille</span>
            <span class="card-meta">Enfant</span>
        </div>
    </a>

    <a href="garcon.html" class="card" data-name="Garçon" tabindex="0" role="article" aria-label="Sacs pour garçon">
        <div class="card-media" data-src="images/boy.jpg">
            <img src="images/boy.jpg" alt="Sacs de marque" loading="lazy">
        </div>
        <div class="card-title">
            <span>Garçon</span>
            <span class="card-meta">Enfant</span>
        </div>
    </a>
</main>

<!-- Preview modal -->
<div class="modal" id="preview-modal" aria-hidden="true" role="dialog" aria-label="Aperçu du produit">
    <div class="modal-card" role="document">
        <button class="drawer-close" id="modal-close" aria-label="Fermer l'aperçu" style="position:absolute;right:12px;top:12px;z-index:2;">×</button>
        <div class="modal-media" id="modal-media">
            <!-- image insérée dynamiquement -->
        </div>
        <div style="padding:14px 18px; display:flex; justify-content:space-between; align-items:center;">
            <div style="font-weight:700" id="modal-title">Titre</div>
            <div style="color:var(--muted);font-weight:600">Catalogue</div>
        </div>
    </div>
</div>

<!-- Floating contact -->
<a href="https://m.me/tonprofilmessenger" target="_blank" class="btn-contact" aria-label="Contacter sur Messenger">💬</a>

<!-- ... Enlever toute la partie modale et preview ... -->

<script>
    // Elements
    const openDrawer = document.getElementById('open-drawer');
    const sideDrawer = document.getElementById('side-drawer');
    const drawerClose = document.getElementById('drawer-close');
    const drawerOverlay = document.getElementById('drawer-overlay');
    const searchInput = document.getElementById('search-categories');
    const chips = document.querySelectorAll('#drawer-chips .chip');
    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = document.getElementById('theme-icon');
    const body = document.body;

    // Drawer open/close
    function openSide(){
        sideDrawer.classList.add('active');
        drawerOverlay.classList.add('active');
        sideDrawer.setAttribute('aria-hidden', 'false');
        openDrawer.setAttribute('aria-expanded', 'true');
        const first = sideDrawer.querySelector('a');
        if(first) first.focus();
    }
    function closeSide(){
        sideDrawer.classList.remove('active');
        drawerOverlay.classList.remove('active');
        sideDrawer.setAttribute('aria-hidden', 'true');
        openDrawer.setAttribute('aria-expanded', 'false');
        openDrawer.focus();
    }
    openDrawer.addEventListener('click', openSide);
    drawerClose.addEventListener('click', closeSide);
    drawerOverlay.addEventListener('click', closeSide);

    // Close drawer on ESC
    document.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape' && sideDrawer.classList.contains('active')){
            closeSide();
        }
    });

    // Filter function (search + chips)
    function filterItems(query = ''){
        const q = query.trim().toLowerCase();
        const items = document.querySelectorAll('[data-name]');
        items.forEach(el=>{
            const name = (el.getAttribute('data-name') || '').toLowerCase();
            const tag = (el.getAttribute('data-tag') || '').toLowerCase();
            if(q === '' || name.includes(q) || tag.includes(q)){
                el.style.display = '';
            } else {
                el.style.display = 'none';
            }
        });
    }
    searchInput.addEventListener('input', ()=> filterItems(searchInput.value));
    chips.forEach(ch=>{
        ch.addEventListener('click', ()=> {
            const f = ch.getAttribute('data-filter') || '';
            if(f === '') {
                searchInput.value = '';
                filterItems('');
            } else {
                searchInput.value = f;
                filterItems(f);
            }
        });
    });

    // Theme toggle: persist in localStorage
    const savedTheme = localStorage.getItem('site-theme');
    if(savedTheme === 'dark') {
        body.setAttribute('data-theme','dark');
        themeIcon.textContent = '☀️';
        themeToggle.setAttribute('aria-pressed','true');
    }
    themeToggle.addEventListener('click', ()=>{
        const isDark = body.getAttribute('data-theme') === 'dark';
        if(isDark){
            body.removeAttribute('data-theme');
            themeIcon.textContent = '🌙';
            themeToggle.setAttribute('aria-pressed','false');
            localStorage.setItem('site-theme','light');
        } else {
            body.setAttribute('data-theme','dark');
            themeIcon.textContent = '☀️';
            themeToggle.setAttribute('aria-pressed','true');
            localStorage.setItem('site-theme','dark');
        }
    });

    // Keyboard: focus search when pressing "/"
    document.addEventListener('keydown', (e)=>{
        if(e.key === '/' && document.activeElement !== searchInput){
            e.preventDefault();
            searchInput.focus();
        }
    });

    // Initial filter (none)
    filterItems('');
</script>

</body>
</html>